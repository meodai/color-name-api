# =============================================================================
# Color Name API - Environment Variables
# =============================================================================
# Copy this file to .env and customize for your environment
# For detailed documentation, see docs/CONFIGURATION.md

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=8080

# -----------------------------------------------------------------------------
# Database (Supabase)
# -----------------------------------------------------------------------------
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-key

# Set to true to disable database connection (runs without persistence)
NODB=false

# -----------------------------------------------------------------------------
# Socket.IO Configuration
# -----------------------------------------------------------------------------
# Enable/disable WebSocket support
SOCKET=true

# Comma-separated list of allowed origins for Socket.IO connections
# IMPORTANT: In production, set this to your actual frontend domains only!
# Example: https://color.pizza,https://yourdomain.com
ALLOWED_SOCKET_ORIGINS=http://localhost:3000,http://localhost:8080

# Maximum number of colors to broadcast per socket event
SOCKET_BROADCAST_LIMIT=50

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Enable/disable rate limiting
RATE_LIMIT_ENABLED=true

# Maximum requests per window (default tier)
RATE_LIMIT_MAX_REQUESTS=100

# Rate limit window in milliseconds (1 minute = 60000)
RATE_LIMIT_WINDOW_MS=60000

# -----------------------------------------------------------------------------
# API Limits
# -----------------------------------------------------------------------------
# Maximum colors per single API request
MAX_COLORS_PER_REQUEST=170

# Default number of results for name search
DEFAULT_SEARCH_RESULTS=20

# Maximum allowed results for name search
MAX_SEARCH_RESULTS=50

# -----------------------------------------------------------------------------
# Cache Configuration
# -----------------------------------------------------------------------------
# Adjust these based on your memory constraints and traffic patterns
CACHE_GZIP_SIZE=500
CACHE_FULLLIST_SIZE=50
CACHE_COLORNAME_SIZE=1000
CACHE_RATELIMIT_SIZE=10000
CACHE_CLOSEST_SIZE=5000

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Cache duration for CORS preflight requests (in seconds)
CORS_MAX_AGE=86400

# -----------------------------------------------------------------------------
# Contact Information (for /.well-known/security.txt)
# -----------------------------------------------------------------------------
SECURITY_CONTACT=security@yourdomain.com
CONTACT_EMAIL=api@yourdomain.com
